<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for lib/type-of.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">lib/</a> type-of.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>116/116</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">96.69% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>117/121</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>37/37</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>116/116</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">2062×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">2068×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2062×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2061×</span>
<span class="cline-any cline-yes">2061×</span>
<span class="cline-any cline-yes">1823×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2061×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">44×</span>
<span class="cline-any cline-yes">44×</span>
<span class="cline-any cline-yes">1901×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">26×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1863×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">28×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1947×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1853×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1845×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">2276×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">56×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1851×</span>
<span class="cline-any cline-yes">31×</span>
<span class="cline-any cline-yes">1819×</span>
<span class="cline-any cline-yes">1692×</span>
<span class="cline-any cline-yes">1683×</span>
<span class="cline-any cline-yes">1683×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">136×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-yes">11×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">35×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">31×</span>
<span class="cline-any cline-yes">31×</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">30×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">16×</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">82×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">82×</span>
<span class="cline-any cline-yes">82×</span>
<span class="cline-any cline-yes">36×</span>
<span class="cline-any cline-yes">36×</span>
<span class="cline-any cline-yes">36×</span>
<span class="cline-any cline-yes">36×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">82×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * Type check
 *
 * You'd better do not init a primitive type variable via 'new Object'
 * is would make somme confused in program!!!
 */
&nbsp;
/*
 * 获取typeString，结果里会带有'['和']'字符
 * @param obj
 * @returns {string}
 * @private
 */
function _typeString(obj){
    return Object.prototype.toString.call(obj);
}
&nbsp;
/*
 * 获取Type
 * @param obj
 * @returns {string}
 *   _getType(1);//"number"
 *   _getType([]);//"array"
 *   _getType({});//"object"
 *   let p1 = new Person("petter");//custom type
 *   _getType(p1);//"person"
 */
function _getType(obj){
    if(obj === null || obj === undefined){
        return obj === undefined ? "undefined" : "null";// String(obj)
    }else{
        let typeName = _typeString(obj).slice(8,-1).toLowerCase();
        //将object类型再细化一下,以区分出自定义类型以及细化类型
        let tpOf = typeof obj;// 这里要用typeof关键字而非typeName这个结果,不然error的子类会不准确
        if(typeName!=="arguments" &amp;&amp; (tpOf==="object" || tpOf==="function")){
            typeName = (obj.constructor &amp;&amp; obj.constructor.name) ? obj.constructor.name.toLowerCase() : <span class="branch-1 cbranch-no" title="branch not covered" >typeName;</span>
        }
        return typeName;
    }
}
&nbsp;
/*
 * 判断类型函数
 * @param type
 * @returns {Function}
 */
function _isTypeOf(type){
    type = ( (typeof type === "string" || type instanceof String) ? type : "" ).toLowerCase();
    return function(obj){
        return type === _getType(obj);
    }
}
&nbsp;
/*
 * 判断类型isXxx(obj)
 * @param obj
 * @returns {Boolean}
 */
let _Type_ = {};
[
    "arguments","array","date",
    "error","syntaxError","typeError","rangeError",
    "regExp","symbol",
    "set","weakSet",
    "map","weakMap"
].forEach(function(t){
    _Type_["is" + t[0].toUpperCase() + t.substr(1)] = _isTypeOf(t);
});
let isArguments = _Type_.isArguments;
let isSymbol = _Type_.isSymbol;
let isSet = _Type_.isSet;
let isWeakSet = _Type_.isWeakSet;
let isMap = _Type_.isMap;
let isWeakMap = _Type_.isWeakMap;
function isArray(obj){
    return _Type_.isArray(obj) || (typeof Array.isArray !=='undefined' &amp;&amp; Array.isArray(obj));
}
// date 和 RegExp的判断必须要在 toString函数执行之前
function isDate(obj){
    return obj instanceof Date || _Type_.isDate(obj);
}
function isRegExp(obj){
    return obj instanceof RegExp || _Type_.isRegExp(obj);
}
function isError(obj){
    return _Type_.isError(obj) || obj instanceof Error;
}
function isSyntaxError(obj){
    return _Type_.isSyntaxError(obj) || obj instanceof SyntaxError;
}
function isTypeError(obj){
    return _Type_.isTypeError(obj) || obj instanceof TypeError;
}
function isRangeError(obj){
    return _Type_.isRangeError(obj) || obj instanceof RangeError;
}
&nbsp;
// isObject:这里采用原生关键字typeof判定，即：数组，任何自定义类型，都属于Object
/* eg:
   function Person(){};
   let p1 = new Person();
   isObject(p1);//true
   isObject(Person);//false, function
   isObject("12aa");//false, string is primitive type
   isObject([1,2,3]);//true, array is object via 'typeof'
*/
function isObject(obj) {
    return (typeof obj === "object" || obj instanceof Object) &amp;&amp; obj !==null;
}
function isFunction(obj) {
    return typeof obj === "function" || obj instanceof Function;
}
function isNull(obj){
    return obj === null;
}
function isUndefined(obj){
    return obj === undefined;
}
function isNill(obj){
    return (obj === null || obj === undefined);
}
// isUndefinedOrNull
// isNullOrUndefined
function isBoolean(obj){
    return obj === true || obj === false || obj instanceof Boolean;
}
function isString(obj) {
    return typeof obj === "string" || obj instanceof String;
}
function isChar(obj){
    return isString(obj) &amp;&amp; obj.length === 1;
}
function isNumber(obj,warn) {
    warn = warn===undefined ? true : !!warn;//default true
    if(warn &amp;&amp; obj !== obj){// warning when NaN
        console.warn("obj is NaN. Using 'isRealNumber(obj)' instead of 'isNumber(obj)'\nOr using 'isNumber(obj,false)' to stop warning out\n");
    }
    return typeof obj === "number" || obj instanceof Number;
}
function isNaN(obj){
    return obj !== obj;
}
function isRealNumber(obj){
    return !isNaN(obj) &amp;&amp; isNumber(obj) ;
}
// 检查是否为简单类型：除开function和object之外的所有类型均为简单类型
function isPrimitive(obj){
    return !isObject(obj) &amp;&amp; !isFunction(obj);
}
// 是否还可以再展开: Object,Array,以及某些Function
function isSpreadable(obj){
    if(isArray(obj)){
        return !!obj.length;
    }else if(isObject(obj) || isFunction(obj)){
        for(let j in obj){
            <span class="missing-if-branch" title="else path not taken" >E</span>if(obj.hasOwnProperty(j)){
                return true
            }
        }
    }
    return false;
}
// 递归函数判断是否为json
function _isJSON(value, visited) {
    (visited || (visited = [])).push(value);
    return  isPrimitive(value) ||
        (isArray(value) &amp;&amp;  value.every(function(element) {
            return _isJSON(element, visited);
        })) ||
        (isObject.isFlat(value) &amp;&amp; Object.keys(value).every(function(key) {
            let $ = Object.getOwnPropertyDescriptor(value, key);
            return  ((!isObject($.value) || <span class="branch-1 cbranch-no" title="branch not covered" >!~visited.indexOf($.value))</span>
                    &amp;&amp; !('get' in $) &amp;&amp; !('set' in $)
                    &amp;&amp; _isJSON($.value, visited));
        }));
}
// isJSON
function isJSON(obj){
    return _isJSON(obj);
}
// isObject.isEmpty
isObject.isEmpty = function(obj,ownCheck){
    if(!isObject(obj) &amp;&amp; !isArray(obj)){
        return false;
    }
    ownCheck = ownCheck || false;
    for(let k in obj){
        if(ownCheck){
            <span class="missing-if-branch" title="else path not taken" >E</span>if(obj.hasOwnProperty(k)){
                return false;
            }
        }else{
            return false;
        }
    }
    return true;
};
// isObject.isEmptyOwn: return true if has none own property
isObject.isEmptyOwn = function(obj){
    return isObject.isEmpty(obj,true);
};
/*
 flat (对象的直接来源 `Object.prototype` or `null`).
 eg:
 isFlat({}) // true
 isFlat(new Type()) // false
 */
isObject.isFlat = function(obj) {
    if(isNull(obj)){
        return true;
    }else if(isObject(obj)){
        return null===Object.getPrototypeOf(obj)
            || (null===Object.getPrototypeOf(Object.getPrototypeOf(obj)));
    }else{
        return false;
    }
};
// decimal 浮点
isNumber.decimal = function(obj){
    return !isNaN(obj) &amp;&amp; isNumber(obj) &amp;&amp; (obj % 1 !== 0);
};
// integer 整型
isNumber.integer = function(obj){
    return !isNaN(obj) &amp;&amp; isNumber(obj) &amp;&amp; (obj % 1 === 0);
};
// odd 奇数
isNumber.odd = function(obj){
    return !isNaN(obj) &amp;&amp; isNumber(obj) &amp;&amp; (obj % 2 !== 0);//这里判断不使用位操作符&amp;，因为会使得一些特殊数如Infinity的结果不对
};
// even 偶数
isNumber.even = function(obj){
    return !isNaN(obj) &amp;&amp; isNumber(obj) &amp;&amp; (obj % 2 === 0);
};
/*
 ECMAScript当对数值应用位操作符时会发生如下转换过程：
 64位的数值被转换成32位数值，然后执行位操作，最后再将32位的结果转换回64位数值。这样，表面上看起来就好像是在操作32位数值。
 但这个转换过程也导致了一个严重的负效应，即在对特殊的NaN和Infinity值应用位操作时，这两个值都会被当成0来处理。
 如果对非数值进行位操作，会先使用Number()函数将该数值转换成一个数值（自动完成），然后再应用位操作，得到的结果是一个数值。
*/
&nbsp;
/*
 * query prototype chain to check instanceof
 * @param value
 * @param Type
 * @returns {boolean}
 *
 * 用法：
 *    余原生的instanceof有区别，原生的instanceof对于简单类型的判定都是false
 *    而本例中会递归去查询原型链
 *    isInstanceOf(NaN,Number);// false
 */
// isInstanceOf
function _instOf(value, type) {
    // 先用原生instanceof判断
    let isInstanceOf = value instanceof type;
    // 对于非undefined和非null的value，需要再用构造器名称判断，以避免原生instanceof的判定
    let isConstructorNameSame,isConstructorSourceSame;
    if (!isInstanceOf &amp;&amp; undefined!==value &amp;&amp; null!==value) {
        isConstructorNameSame = (value.constructor &amp;&amp; value.constructor.name === type.name);
        isConstructorSourceSame = (value.constructor &amp;&amp; String(value.constructor) == String(type));
        isInstanceOf = (isConstructorNameSame &amp;&amp; isConstructorSourceSame);
        isInstanceOf = isInstanceOf || _instOf(Object.getPrototypeOf(value), type);
    }
    return isInstanceOf;
}
&nbsp;
// exports
module.exports = {
    typeStr: _typeString,
    getTypeOf: _getType,
    isTypeOf: _isTypeOf,
    isInstanceOf: _instOf,
    //
    isArguments,
    isSymbol,
    isSet,
    isWeakSet,
    isMap,
    isWeakMap,
    isArray,
    isDate,
    isRegExp,
    isError,
    isSyntaxError,
    isTypeError,
    isRangeError,
    isObject,
    isFunction,
    isNull,
    isUndefined,
    isNill,
    isNullOrUndefined: isNill,
    isUndefinedOrNull: isNill,
    isBoolean,
    isString,
    isChar,
    isNumber,
    isNaN,
    isRealNumber,
    isPrimitive,
    isSpreadable,
    isJSON
};</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Fri Aug 09 2019 10:48:03 GMT+0800 (China Standard Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
